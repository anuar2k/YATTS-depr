<Window x:Class="YATTS.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:local="clr-namespace:YATTS"
        mc:Ignorable="d"
        Title="Yet Another Trucking Telemetry Solution"
        Height="768" Width="1024"
        ResizeMode="CanMinimize">
    <Window.Resources>
        <Style TargetType="GridViewColumnHeader">
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="IsEnabled" Value="False"/>
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Foreground" Value="Black"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <local:IsNullToBoolConverter x:Key="NullToBool"/>
        <local:ConvertTypeToRadioConverter x:Key="ConvertTypeToRadio"/>
    </Window.Resources>

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_New" />
                <MenuItem Header="_Open" />
                <MenuItem Header="_Exit" />
            </MenuItem>
            
            <MenuItem Header="_Help">
                
            </MenuItem>
        </Menu>

        <Grid Margin="8 2 8 8">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="3*"/>
            </Grid.RowDefinitions>

            <GroupBox Grid.Row="0" 
                      Header="Connections">

            </GroupBox>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0" 
                      Margin="0 0 4 0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <GroupBox Grid.Row="0"
                              Header="Streamed variables">
                        <ListView Name="streamedListView" SelectionMode="Single"
                                  ScrollViewer.VerticalScrollBarVisibility="Visible"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Header=" Name" 
                                                    Width="223"
                                                    DisplayMemberBinding="{Binding ID}"/>
                                    <GridViewColumn Header=" Type" 
                                                    Width="120"
                                                    DisplayMemberBinding="{Binding TypeName}"/>
                                    <GridViewColumn Header=" Quantity" 
                                                    Width="58"
                                                    DisplayMemberBinding="{Binding ArrayLength}"/>
                                    <GridViewColumn Header=" Streamed" 
                                                    Width="61"
                                                    DisplayMemberBinding="{Binding Streamed}"/>
                                </GridView>
                            </ListView.View>
                        </ListView>
                    </GroupBox>

                    <GroupBox Grid.Row="1"
                              Header="Event-based variables">
                        <ListView SelectionMode="Single"
                                  ScrollViewer.VerticalScrollBarVisibility="Visible"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Header=" Name" 
                                                    Width="223"/>
                                    <GridViewColumn Header=" Type" 
                                                    Width="120"/>
                                    <GridViewColumn Header=" Quantity" 
                                                    Width="58"/>
                                    <GridViewColumn Header=" Streamed" 
                                                    Width="61"/>
                                </GridView>
                            </ListView.View>
                        </ListView>
                    </GroupBox>
                </Grid>

                <GroupBox Grid.Column="1" 
                          Header="Variable inspector"
                          Margin="4 0 0 0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <DockPanel Grid.Column="0"
                                   Margin="0 0 2 0">

                            <TextBlock Text="ID:" 
                                       DockPanel.Dock="Top"/>

                            <TextBox DockPanel.Dock="Top"
                                     IsReadOnly="True"
                                     Text="{Binding MemoryRepresentation.Selected.ID, Mode=OneWay}"
                                     IsEnabled="{Binding MemoryRepresentation.Selected, Mode=OneWay, Converter={StaticResource NullToBool}}"/>

                            <TextBlock Text="Name:" 
                                       Margin="0 5 0 0"
                                       DockPanel.Dock="Top"/>

                            <TextBox DockPanel.Dock="Top"
                                     IsReadOnly="True"
                                     Text="{Binding MemoryRepresentation.Selected.Name, Mode=OneWay}"
                                     IsEnabled="{Binding MemoryRepresentation.Selected, Mode=OneWay, Converter={StaticResource NullToBool}}"/>

                            <TextBlock Text="Type:" 
                                       Margin="0 5 0 0"
                                       DockPanel.Dock="Top"/>

                            <TextBox DockPanel.Dock="Top"
                                     IsReadOnly="True"
                                     Text="{Binding MemoryRepresentation.Selected.TypeName, Mode=OneWay}"
                                     IsEnabled="{Binding MemoryRepresentation.Selected, Mode=OneWay, Converter={StaticResource NullToBool}}"/>

                            <DockPanel DockPanel.Dock="Top"
                                       Margin="0 5 0 0">
                                <TextBlock Text="Stream first "/>
                                <xctk:IntegerUpDown Value="{Binding MemoryRepresentation.Selected.ArrayLength}" 
                                                    Minimum="1"
                                                    Maximum="{Binding MemoryRepresentation.Selected.MaxArrayLength}"
                                                    IsEnabled="{Binding MemoryRepresentation.Selected, Mode=OneWay, Converter={StaticResource NullToBool}}"/>
                                <TextBlock Text=" elements"/>
                            </DockPanel>
                            <TextBlock Text="Additional options for float type:"
                                       Margin="0 3 0 5"
                                       DockPanel.Dock="Top" />

                            <DockPanel DockPanel.Dock="Top"
                                       Margin="0 0 0 5">
                                <TextBlock Text="Multiply by: "/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="3*" />
                                        <ColumnDefinition Width="2*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0"
                                             Margin="2 0 4 0"
                                             IsEnabled="{Binding MemoryRepresentation.SelectedFloat, Mode=OneWay, Converter={StaticResource NullToBool}}"/>
                                    <Button Grid.Column="1"
                                            Content="Multipliers"
                                            IsEnabled="{Binding MemoryRepresentation.SelectedFloat, Mode=OneWay, Converter={StaticResource NullToBool}}"/>
                                </Grid>
                            </DockPanel>

                            <RadioButton Content="Don't convert"
                                         DockPanel.Dock="Top"
                                         GroupName="A"
                                         IsEnabled="{Binding MemoryRepresentation.SelectedFloat, Mode=OneWay, Converter={StaticResource NullToBool}}"
                                         IsChecked="{Binding MemoryRepresentation.SelectedFloat.ConvertToInt, Converter={StaticResource ConvertTypeToRadio}, ConverterParameter=NONE}"/>
                            <RadioButton Content="Floor it and convert to int32"
                                         DockPanel.Dock="Top"
                                         GroupName="A"
                                         IsEnabled="{Binding MemoryRepresentation.SelectedFloat, Mode=OneWay, Converter={StaticResource NullToBool}}"
                                         IsChecked="{Binding MemoryRepresentation.SelectedFloat.ConvertToInt, Converter={StaticResource ConvertTypeToRadio}, ConverterParameter=FLOOR}"/>
                            <RadioButton Content="Round it and convert to int32"
                                         DockPanel.Dock="Top"
                                         GroupName="A"
                                         IsEnabled="{Binding MemoryRepresentation.SelectedFloat, Mode=OneWay, Converter={StaticResource NullToBool}}"
                                         IsChecked="{Binding MemoryRepresentation.SelectedFloat.ConvertToInt, Converter={StaticResource ConvertTypeToRadio}, ConverterParameter=ROUND}"/>
                            <RadioButton Content="Ceil it and convert to int32"
                                         DockPanel.Dock="Top"
                                         GroupName="A"
                                         IsEnabled="{Binding MemoryRepresentation.SelectedFloat, Mode=OneWay, Converter={StaticResource NullToBool}}"
                                         IsChecked="{Binding MemoryRepresentation.SelectedFloat.ConvertToInt, Converter={StaticResource ConvertTypeToRadio}, ConverterParameter=CEIL}"/>

                            <TextBlock Text="Description:" Margin="0 5 0 0"
                                       DockPanel.Dock="Top"/>

                            <TextBox DockPanel.Dock="Top"
                                     IsReadOnly="True"
                                     TextWrapping="Wrap"
                                     ScrollViewer.VerticalScrollBarVisibility="Visible"
                                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                     Text="{Binding MemoryRepresentation.Selected.Description, Mode=OneWay}"
                                     IsEnabled="{Binding MemoryRepresentation.Selected, Mode=OneWay, Converter={StaticResource NullToBool}}"/>
                        </DockPanel>

                        <DockPanel Grid.Column="1" 
                                   Margin="2 0 0 0">
                            <TextBlock Text="Value:"
                                       DockPanel.Dock="Top"/>
                            <TextBox DockPanel.Dock="Top"
                                     TextWrapping="Wrap"
                                     ScrollViewer.VerticalScrollBarVisibility="Visible"
                                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
                        </DockPanel>
                    </Grid>
                </GroupBox>
            </Grid>
        </Grid>
    </DockPanel>
</Window>
